<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">	
	
	var arreglo = {
		'circulo': 'http://www.arquba.com/curso-sketchup-gratis/entidades-de-circulo/index_ren-Circle.jpg',
		'cuadrado': 'http://doc.qt.digia.com/4.6/images/used-in-examples/widgets/tooltips/images/square.png',
		'estrella': 'http://img2.wikia.nocookie.net/__cb20130620210048/inciclopedia/images/1/18/Estrella_amarilla.png',
		'triangulo': 'http://img3.wikia.nocookie.net/__cb20121214140518/uncyclopedia/images/8/88/Triangle%28shape%29.jpg'
	};

	$( document ).ready(function() {
		setTimeout(function() {
    		$('#secuencia').fadeOut('fast');
    		$('#respuesta').fadeIn('slow');
		}, 3000);
	});

	function agregar(imagen) {
		var innerHTML = document.getElementById('secuenciaRespuesta').innerHTML;
		innerHTML = innerHTML + "<img class='imagenSeq' src='" + arreglo[imagen] + "' />";
		document.getElementById('secuenciaRespuesta').innerHTML	= innerHTML;
		var campoRespuesta = document.getElementById('campoRespuesta');
		if(campoRespuesta.value.length == 0)
			campoRespuesta.value = imagen;
		else
			campoRespuesta.value = campoRespuesta.value + ',' + imagen;
		validar();
	}

	function validar() {
		var divSeq = document.getElementById("campoRespuesta").value;
		var divSeqRes = document.getElementById("campoOriginal").value;
		
		if(divSeq.split(',').length === divSeqRes.split(',').length) {
			if(divSeq === divSeqRes) {
				document.getElementById('botonSiguiente').click();
			}else {
				location.href = "/perdio"
			}
		}	
	}
	
	function getUrlImagen(imagen) {
		return mapImages[imagen];
	}

</script>
<style type="text/css">
	.imagenSeq {
    height: 100px;
    width: 100px;
	}

	body {
      background-image: url("http://i.huffpost.com/gen/799955/thumbs/o-THE-MATRIX-AND-HINDUISM-facebook.jpg");
}

div {
	background-color:rgba(255,255,255,0.8);
	height:500px;
    width:500px; margin-left: auto;
    margin-right: auto;
    width: 70%;
	text-align: center;
	
}

table tr {
	width: 100%;
}
</style>
<div id="secuencia" style="display:block">
	<h1>Sim√≥n Recargado dice:</h1>
	<h2>Recuerda las imagenes, tienes 3 segundos......</h2>
		<%= @secuencia.split("&&")[0] %>	
</div>



<div id="respuesta" style="display:none">
	<table border="1" align="center">
		<tr colspan="2">
			<h2>Selecciona las imagenes de tu respuesta . . .<h2>	
			<input type="text" name="res" id="res" style="display:none">
		</tr>
		<tr>
			<td><input type="image" class="imagenSeq" src="http://doc.qt.digia.com/4.6/images/used-in-examples/widgets/tooltips/images/square.png" id="but1" onclick="agregar('cuadrado')" /></td>
			<td><input type="image" class="imagenSeq" id="but2" onclick="agregar('estrella')" src="http://img2.wikia.nocookie.net/__cb20130620210048/inciclopedia/images/1/18/Estrella_amarilla.png" /></td>
			<td><input type="image" class="imagenSeq" id="but3" onclick="agregar('triangulo')" src="http://img3.wikia.nocookie.net/__cb20121214140518/uncyclopedia/images/8/88/Triangle%28shape%29.jpg" /></td>
			<td><input type="image" class="imagenSeq" id="but4" onclick="agregar('circulo')" src="http://www.arquba.com/curso-sketchup-gratis/entidades-de-circulo/index_ren-Circle.jpg" /></td>
		<tr>
	</table>
<br/>
<br/>
<div id="secuenciaRespuesta" style="display:block; height: 20%; background-color:rgba(25,25,25,0.3)">
</div>
<br/>


<form method="get" action="/">
<input type="submit" name="Reiniciar Juego" value="Reiniciar Juego" />
</form>	
</div>



<div style="display:none;">
	<form method="get" action="/jugar" name="formSiguiente">
		<input type="text" id = "campoRespuesta" value="" />
		<input type="text" id = "campoOriginal" value=<%= @secuencia.split("&&")[1] %> />
		<input type="submit" value="Jugar" name="jugar" id="botonSiguiente"/>
		<input type="text" value=<%= @secuencia.split("&&")[1].split(',').length + 1 %> name="num">
	</form>
</div>

